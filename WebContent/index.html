<!DOCTYPE html>
<html>
<head>
	<meta charset="ISO-8859-1">
	<title>Alta de vehiculos</title>
	
	<script type="text/javascript">
	
		function validarIdVehiculo(){
			
			var numeroVehiculo = parseInt(document.getElementById('numeroVehiculo').value);
			var error = '';
			
			if(numeroVehiculo < 1 || numeroVehiculo > 100)
				error = 'El numero de vehiculo debe estar comprendido entre 1 y 100';
			
			document.getElementById('mensajeErrorNumero').innerHTML = error;
		}
		
		function validarAnioVehiculo(){
			
			var anio = parseInt(document.getElementById('anioFabricacion').value);
			var error = '';
			
			if(anio < 2013)
				error = 'El año del vehiculo debe ser mayor a 2013';
			else
				document.getElementById('antiguedad').innerHTML = (2017 - anio);

			document.getElementById('mensajeErrorAnio').innerHTML = error;
		}

		function validarMotor(){
			
			var motor = document.getElementById('motor').value;
			var error = '';
			
			if(motor.length < 8)
				error = 'La longitud debe minimo de 8 digitos';

			document.getElementById('mensajeErrorMotor').innerHTML = error;
		}

		function validarMail() {
			
			var mail = document.getElementById('mail').value;
			var error = '';
			var reg = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
			var esValido = reg.test(mail);
			var ok = true;
			
			if(esValido == false){
				error = 'El e-mail ingresado es incorrecto';
				ok = false;
			}
			
			document.getElementById('mensajeErrorMail').innerHTML = error;
			return ok;
		}

		function enviarMail(){
			
			var ok = validarMail();
			if(ok == true){
				
				alert("Se envió el mail.");
			}			
		}
		
		function clearErrores(){
			
			document.getElementById('mensajeErrorMail').innerHTML = '';
			document.getElementById('mensajeErrorMotor').innerHTML = '';
			document.getElementById('mensajeErrorAnio').innerHTML = '';
			document.getElementById('mensajeErrorNumero').innerHTML = '';
		}		
	</script>
</head>
<body>
	
	<h1>Alta de Vehiculos</h1>
	
	<h2>Datos del vehiculo</h2>
	<form name="altaVehiculoForm">
		<table>
			<tr>
				<td colspan="2">
					<label>Numero vehiculo: </label>
					<input id="numeroVehiculo" name="numeroVehiculo" type="text" onBlur="validarIdVehiculo()" />
					<p id="mensajeErrorNumero" style="color:red"></p>
				</td>
			</tr>
			<tr>
				<td>
					<label>Año fabricacion: </label>
					<input id="anioFabricacion" name="anioFabricacion" type="text" onBlur="validarAnioVehiculo()" />
					<p id="mensajeErrorAnio" style="color:red"></p>
				</td>
				<td>
					<label>Antiguedad: </label>
					<span id="antiguedad"></span>
				</td>
			</tr>
			<tr>
				<td colspan="2">
					<label>Marca: </label>
					<select id="marca" name="marca">
						<option value="FIAT">FIAT</option>
						<option value="CHEVROLET">CHEVROLET</option>
						<option value="FORD">FORD</option>
						<option value="BMW">BMW</option>
						<option value="MERCEDES">MERCEDES</option>
						<option value="VOLKSWAGEN">VOLKSWAGEN</option>
					</select>
				</td>
			</tr>
			<tr>
				<td>
					<label>Motor:</label>
					<input id="motor" name="motor" type="text" onBlur="validarMotor()" />
					<p id="mensajeErrorMotor" style="color:red"></p>
				</td>
				<td>
					<label>Patente:</label>
					<input id="patente" name="patente" type="text" />
				</td>
			</tr>
			<tr>
				<td colspan="2">
					<label>Alquilado:</label>
					<input type="radio" name="alquilado" value="si" />Si
  					<input type="radio" name="alquilado" value="no" />No	
				</td>
			</tr>
			<tr>
				<td colspan="2">
				<label>Accesorios:</label>
					<select multiple="multiple" id="accesorios" name="accesorios">
						<option value="AIRBAG">AIRBAG</option>
						<option value="AIRE_ACONDICIONADO">AIRE ACONDICIONADO</option>
						<option value="MP3">MP3</option>
						<option value="VIDRIOS_POLARIZADOS">VIDRIOS POLARIZADOS</option>
					</select>
				</td>
			</tr>
			<tr>
				<td>
					<label>Nombre y apellido:</label>
					<input id="nombre" name="nombre" type="text" />
				</td>
				<td>
					<label>E-Mail:</label>
					<input id="mail" name="mail" type="text" onBlur="validarMail()" />
					<p id="mensajeErrorMail" style="color:red"></p>
				</td>
			</tr>
			<tr>
				<td colspan="2">
					<input type="button" id="confirmar" name="confirmar" value="Confirmar" />
					<input type="reset" id="borrar" name="borrar" onClick="clearErrores()" value="Borrar" />
					<input type="button" id="enviarMail" name="enviarMail" onClick="enviarMail()" value="Enviar mail" />
				</td>
			</tr>
		</table>
	</form>
	
	<h2>Datos del vehiculo dado de alta</h2>

		<p>Numero vehiculo: </p>
		<p>Año fabricacion: </p>
		<p>Antiguedad: </p>
		<p>Marca: </p>
		<p>Motor: </p>
		<p>Patente: </p>
		<p>Alquilado: </p>
		<p>Accesorios: </p>
		<p>Nombre y apellido: </p>
		<p>E-Mail: </p>
</body>
</html>